<div role="document">
  <div class="TituloIndex">
    <h1 class="EstiloIndex col-sm-12">
      <hr>
        <b>Registro de activos.</b>
        <hr>
    </h1>  
</div>
<!-- Datos Generales -->
  <div class="EspacioDiv">
    <form class="form-horizontal" [formGroup]="addAsset" (ngSubmit)="guardarActivo()">      
      <div class="EncabezadoForm shadow-X"><b>&nbsp;Datos Generales:</b></div>
      <div class="EstiloForm1">
      
        <div class="row Espacio">
          <div class="margen col-sm-4"><label class="col-sm-6 control-label texto">Cuenta contable</label>
            <ng-select                                 
                formControlName="IdCuenta"            
                (change)="chargeClasification()"
                [searchable]="true"                
                placeholder="Selecciona la cuenta"
                size="10" >
                  <ng-option *ngFor="let item of accounts" [value]="item.IdCuenta">{{item.NombreCuenta}}</ng-option>
            </ng-select>
            <FONT COLOR="red">
              <small *ngIf="IdCuenta.invalid && IdCuenta.touched">
                Complete el campo
              </small>
            </FONT>
          </div>
          
          <div class="col-sm-4"><label class="col-sm-2 control-label texto">Clasificación</label>            
            <ng-select                                 
                formControlName="IdClasificacion"              
                [searchable]="true"                
                placeholder="Selecciona la clasificación"
                size="10">
                  <ng-option *ngFor="let item of clasifications" [value]="item.IdClasificacion">{{item.Descripcion}}</ng-option>
               </ng-select>
            <FONT COLOR="red">
              <small *ngIf="IdClasificacion.invalid && IdClasificacion.touched">
                Complete el campo
              </small>
            </FONT>
          </div>   
        </div>     
       
            <div class="esp ajuste2">        
              <div class="dimensiones">
              <img *ngIf="origen" [src]="origen" src="" width="190px" height="181px" class="bordesImagen"> 
              <h6 style="font-size:x-small">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**Previsualización de la imagen**</h6>
              </div>
              <label class="botonInputImage image">
                <input class="custom-file-input" id="customFile" formControlName="Fotografia" type="file" accept="image/*" (change)="updateSource($event)">          
                <div class="row">
                  <div class="col-sm-2 posicionIcono2">
                    <img src="../../../assets/images/photos.png" alt="Subir/Archivo" class="avatar" width="30" height="30">
                  </div>
                  <div class="col-sm-8">
                    <h6><b>Subir Imagen</b></h6>
                  </div>
                </div>
                <FONT COLOR="red">
                  <small *ngIf="Fotografia.invalid && Fotografia.touched">
                    Complete el campo
                  </small>
                </FONT>
              </label>
            </div>
         
     
        <div class="row Espacio ajuste">
          <div class="margen col-sm-4 "><label class="col-sm-7 control-label texto">Marca</label>
            <ng-select                                 
            formControlName="IdMarca" 
            [searchable]="true"                
            placeholder="Selecciona la marca"
            size="10">
              <ng-option *ngFor="let item of brands" [value]="item.IdMarca">{{item.NombreMarca}}</ng-option>
           </ng-select>
           
            <FONT COLOR="red">
              <small *ngIf="IdMarca.invalid && IdMarca.touched">
                Complete el campo
              </small>
            </FONT>
          </div>  
          
          <div class="margen col-sm-4 "><label class="col-sm-2 control-label texto">Proveedor</label>
              <ng-select                                 
              formControlName="IdProveedor" 
              [searchable]="true"                
              placeholder="Selecciona el proveedor"
              size="10">
                <ng-option *ngFor="let item of providers" [value]="item.IdProveedor">{{item.NombreProveedor}}</ng-option>
             </ng-select>
            <FONT COLOR="red">
              <small *ngIf="IdProveedor.invalid && IdProveedor.touched">
                Complete el campo
              </small>
            </FONT>
          </div>
        </div> 
            
        <div class="row Espacio">
          <div class="margen col-sm-4"><label class="col-sm-2 control-label texto">Modelo</label>
            <input class="form-control" placeholder="Modelo" formControlName="Modelo">
            <FONT COLOR="red">
              <small *ngIf="Modelo.invalid && Modelo.touched">
                Complete el campo
              </small>
            </FONT>
          </div>

          <div class="col-sm-4"><label class="col-sm-2 control-label texto">Serie</label>
            <input class="form-control" placeholder="Serie" formControlName="Serie">
            <FONT COLOR="red">
              <small *ngIf="Serie.invalid && Serie.touched">
                Complete el campo
              </small>
            </FONT>
          </div>
      </div> 
                  
                
        <div class="row Espacio">
          <div class="col-sm-2"><label class="col-sm-12 control-label texto2">Fecha de compra</label>
            <input type="date" class="form-control" placeholder="Fecha de compra" formControlName="FechaCompra" (keyup)="calculateValues()">
            <FONT COLOR="red">
              <small *ngIf="FechaCompra.invalid && FechaCompra.touched">
                Complete el campo
              </small>
            </FONT>
          </div>
          <div class="col-sm-3"><label class="col-sm-8 control-label texto2">Valor de compra</label>
            <input class="form-control" placeholder="$$$$" formControlName="ValorCompra" (keyup)="calculateValues()" mask="separator.2" thousandSeparator=",">
            <FONT COLOR="red">
              <small *ngIf="ValorCompra.invalid && ValorCompra.touched ">
                Complete el campo o ingrese solo números
              </small>
            </FONT>
          </div> 
          <div class="col-sm-4"><label class="col-sm-8 control-label texto2">Nº de libre gestión</label>
              <input class="form-control" placeholder="Libre Gestión" formControlName="LibreGestion">
              <FONT COLOR="red">
                <small *ngIf="LibreGestion.invalid && LibreGestion.touched">
                  Complete el campo
                </small>
              </FONT>
          </div>
          <div class="col-sm-3">
            <label class="col-sm-7 control-label texto">Financiamiento</label>
            <ng-select                                 
              formControlName="IdOrigen" 
              [searchable]="true"                
              placeholder="Selecciona el financiamiento"
              size="10">
                <ng-option *ngFor="let item of origens" [value]="item.IdOrigen">{{item.NombreOrigen}}</ng-option>
             </ng-select>
            <FONT COLOR="red">
              <small *ngIf="IdOrigen.invalid && IdOrigen.touched">
                Complete el campo
              </small>
            </FONT>          
        </div>
        </div>
        
        <div class="row Espacio" *ngIf="_isDepreciable">
          <div class="col-sm-3"><label class="col-sm-12 control-label texto2">Vida útil</label>
            <input type="number" class="form-control" placeholder="Vida útil" formControlName="VidaUtil" (keyup)="calculateValues()">
            <FONT COLOR="red">
              <small *ngIf="FechaCompra.invalid && FechaCompra.touched">
                Complete el campo
              </small>
            </FONT>
          </div>
          <div class="col-sm-3"><label class="col-sm-12 control-label texto2">Depreciación</label>
            <input class="form-control" formControlName="Depreciacion" disabled >
          </div>
          <div class="col-sm-3"><label class="col-sm-12 control-label texto2">Amortización</label>
            <input class="form-control" formControlName="Amortizacion" disabled >
          </div>
          <div class="col-sm-3"><label class="col-sm-12 control-label texto2">Valor actual</label>
            <input class="form-control" formControlName="ValorActual" disabled >
          </div>
        </div>
        
        <div class="row Espacio">
          <div class="col-sm-12">
          <label class="col-sm-2 control-label texto">Descripción</label>         
            <textarea type="text" rows="2" class="form-control" placeholder="Descripción" formControlName="Descripcion"></textarea>
            <FONT COLOR="red">
              <small *ngIf="Descripcion.invalid && Descripcion.touched">
                Complete el campo
              </small>
            </FONT>
          </div>     
        </div>

        <div class="row Espacio">
          <div class="col-sm-12"><label class="col-sm-12 control-label texto">Orden de compra</label>
            <label class="botonInputFile file">
            <div class="row bordeCompra">
              <div class="col-sm-2 posicionIcono1">
                <img src="../../../assets/images/factura.png" alt="Subir/Archivo" class="avatar" width="40" height="40">
              </div>
              <div class="col-sm-6 posicionInput">
              <input type="file" class="ubicacion custom-file-input" id="customFile" formControlName="DocumentoCompra" (change)="getFile($event)">              
            </div>            
          </div>
          <FONT COLOR="red">
            <small *ngIf="DocumentoCompra.invalid && DocumentoCompra.touched">
              Complete el campo
            </small>
          </FONT>
          </label>
          </div>
        </div> 
      
      </div>

<!-- Hasta aqui Datos Generales -->

<!-- Datos de Vehiculo -->
      <br>
      <div class="card esp2" *ngIf="selected == '24117001'">
        <div class="EncabezadoForm shadow-X"><b>&nbsp;Vehículo:</b></div>
        <div class="card-body EstiloForm1">
          
          <div class="row Espacio">
            <div class="col-sm-4">
              <label class="col-sm-4 control-label texto">Placa</label>
              <input class="form-control" placeholder="Placa" formControlName="Placa" maxlength="9">  
              <FONT COLOR="red">
                <small *ngIf="Placa.invalid && Placa.touched">
                  Complete el campo
                </small>
              </FONT>            
            </div>
            <div class="col-sm-3">
              <label class="col-sm-2 control-label texto">Color</label>
              <input class="form-control" placeholder="Color" formControlName="Color">
              <FONT COLOR="red">
                <small *ngIf="Color.invalid && Color.touched">
                  Complete el campo
                </small>
              </FONT>
            </div>
            <div class="col-sm-5">
              <label class="col-sm-4 control-label texto">Nº de Motor</label>
              <input class="form-control" placeholder="Nº de Motor" formControlName="NoMotor">
              <FONT COLOR="red">
                <small *ngIf="NoMotor.invalid && NoMotor.touched">
                  Complete el campo
                </small>
              </FONT>
            </div>
          </div>

          <div class="row Espacio">
            <div class="col-sm-4">
              <label class="col-sm-4 control-label texto">Nº de VIN</label>
              <input class="form-control" placeholder="Nº de VIN" formControlName="NoVIN">
              <FONT COLOR="red">
                <small *ngIf="NoVIN.invalid && NoVIN.touched">
                  Complete el campo
                </small>
              </FONT>
            </div>
            <div class="col-sm-3">
              <label class="col-sm-6 control-label texto">Nº de Chasis</label>
              <input class="form-control" placeholder="Nº de Chasis" formControlName="NoChasis">
              <FONT COLOR="red">
                <small *ngIf="NoChasis.invalid && NoChasis.touched">
                  Complete el campo
                </small>
              </FONT>
            </div>
            <div class="col-sm-3">
              <label class="col-sm-6 control-label texto">Nº de asientos</label>
              <input class="form-control" placeholder="Nº de asientos" formControlName="NoAsientos">
              <FONT COLOR="red">
                <small *ngIf="NoAsientos.invalid && NoAsientos.touched">
                  Complete el campo
                </small>
              </FONT>
            </div>
            <div class="col-sm-2">
              <label class="col-sm-4 control-label texto">Año</label>
              <input class="form-control" placeholder="Año" formControlName="Anno" mask="0000">
              <FONT COLOR="red">
                <small *ngIf="Anno.invalid && Anno.touched">
                  Complete el campo
                </small>
              </FONT>
            </div>
          </div>          
        </div>
      </div>
      <br>

<!-- Hasta aqui Datos de Vehiculos -->

<!-- Datos Patentes -->     
      <br>
      <div class="card esp1" *ngIf="selected == '22615003'">
        <div class="EncabezadoForm shadow-X"><b>&nbsp;Patentes:</b></div>
        <div class="card-body EstiloForm1">
          
          <div class="row Espacio">
            <div class="col-sm-6">
              <label class="col-sm-4 control-label texto">Autor</label>
              <input class="form-control" placeholder="Autor" formControlName="Autor">
              <FONT COLOR="red">
                <small *ngIf="Autor.invalid && Autor.touched">
                  Complete el campo
                </small>
              </FONT>
            </div>
            <div class="col-sm-6">
              <label class="col-sm-2 control-label texto">Título</label>
              <input class="form-control" placeholder="Título" formControlName="Titulo">
              <FONT COLOR="red">
                <small *ngIf="Titulo.invalid && Titulo.touched">
                  Complete el campo
                </small>
              </FONT>
            </div>
          </div> 

          <div class="row Espacio">
            <div class="col-sm-4">
              <label class="col-sm-4 control-label texto">Editorial</label>
              <input class="form-control" placeholder="Editorial" formControlName="Editorial">
              <FONT COLOR="red">
                <small *ngIf="Editorial.invalid && Editorial.touched">
                  Complete el campo
                </small>
              </FONT>
            </div>
            <div class="col-sm-4">
              <label class="col-sm-2 control-label texto">Tomo</label>
              <input class="form-control" placeholder="Tomo" formControlName="Tomo">
              <FONT COLOR="red">
                <small *ngIf="Tomo.invalid && Tomo.touched">
                  Complete el campo
                </small>
              </FONT>
            </div>
            <div class="col-sm-4">
              <label class="col-sm-2 control-label texto">Edición</label>
              <input class="form-control" placeholder="Edición" formControlName="Edicion">
              <FONT COLOR="red">
                <small *ngIf="Edicion.invalid && Edicion.touched">
                  Complete el campo
                </small>
              </FONT>
            </div>
          </div>     
        </div>
      </div>
      <br>      
      
<!-- Hasta aqui Datos de Patente -->
      
      <div class="footer">        
        <button type="submit" class="espacio3 btn btn-primary btn-lg" style="float: right">Guardar</button>        
        <span routerLink="/Assets/Supplies" class="btn btn-default btn-lg" style="float: right">Cancelar</span>
      </div>
    </form>
  </div>
</div>
